@using WWW.Domain.Entity;
@model PageIndexViewModel<Article>
@{
    ViewData["Title"] = "List";
}

@{

    if (@Model.Data.First().Category != null)
    {
        <strong><h1>List of @Model.Data.First().Category.Name</h1></strong>
    }
    else{
        <h1>List of all</h1>
    }
}

<div class="row mt-5 mb-2">
    <h4 >Articles</h4>
    @foreach (var i in Model.Data){
        <div class="col-lg-4">
            <div class="modal-body articleDescription">
                <img src="@Url.Action("GetImageById", "Help", new { id = i.Id })" alt="Image" />

                <p>@i.Title</p>
                <p>@i.ShortDescription</p>
            </div>
            <div class="modal-footer">
                <p><a class="btn btn-primary">More</a></p>
            </div>
        </div>
    }
    @section Pagination {
            <div class="container" style="display: flex;justify-content: center;flex-wrap: wrap;">
        <ul class="pagination pagination-lg ">
            @if (Model.PageViewModel.HasPreviousPage) {
                <li class="page-item">
                        <a class="page-link rounded-0 " asp-action="List" asp-route-page="@(Model.PageViewModel.СurrentlyPageNumber - 1)">&laquo;</a>
                </li>
            }
            else
            {
                <li class="page-item disabled">
                    <a class="page-link rounded-0 " >&laquo;</a>
                </li>
            }
            @for (int i = 1; i <= Model.PageViewModel.TotalPages;i++)
            {
                @if (i == Model.PageViewModel.СurrentlyPageNumber)
                    {
                    <li class="page-item active" >
                            <a class="page-link" asp-action="List" asp-route-page="@i">@i</a>
                    </li>
                }
                else
                {
                    <li class="page-item">
                            <a class="page-link" asp-action="List" asp-route-page="@i">@i</a>
                    </li>
                }
            }
            @if (Model.PageViewModel.HasNextPage)
            {
                <li class="page-item">
                    <a class="page-link rounded-0 "
                   asp-action="List"
                   asp-route-page="@(Model.PageViewModel.СurrentlyPageNumber + 1)">
                        &raquo;
                    </a>
                </li>
            }
            else
            {
                <li class="page-item disabled">
                    <a class="page-link rounded-0 " href="#">&raquo;</a>
                </li>
            }
        </ul>
    </div>

    }
</div>






@*    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Title)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Title)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ShortDescription)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ShortDescription)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Description)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Description)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Picture)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Picture)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Published)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Published)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.IsFavorite)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.IsFavorite)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Category)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Category.Name)
        </dd>
    </dl><hr />*@

@*<div>
    <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
*@